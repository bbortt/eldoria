(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{39884:(e,t,r)=>{Promise.resolve().then(r.bind(r,79008))},79008:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var a=r(19488),n=r(51408),o=r(34500),s=r(13971),i=r(46124),l=r(88855),h=r(89438),c=r(90304),d=r(83318),u=r.n(d);let f=e=>{let{acceptFunction:t,refuseFunction:r,text:n}=e;return(0,a.jsxs)("footer",{className:u().footer,children:[(0,a.jsx)("p",{children:n}),(0,a.jsxs)(h.e2v,{children:[(0,a.jsx)(c.Y0,{color:"success",onPress:t,children:"Accept"}),(0,a.jsx)(c.Y0,{onPress:r,color:"warning",children:"Refuse"})]})]})},m=e=>{let{continueFunction:t,text:r}=e;return(0,a.jsxs)("footer",{className:u().footer,children:[(0,a.jsx)("p",{children:r}),(0,a.jsx)("div",{children:(0,a.jsx)(c.Y0,{onPress:t,children:"Continue"})})]})};var g=r(19397),y=r.n(g);let w=e=>{let{continueFunction:t,text:r}=e,[n,o]=(0,i.useState)("");return(0,a.jsx)("div",{className:y().main,children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:r})}),(0,a.jsx)("div",{className:y().flexBoxCenter,children:(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),t(n)},children:(0,a.jsxs)("div",{className:y().inputContainer,children:[(0,a.jsx)(h.pde,{type:"text",label:"Username",value:n,onChange:e=>o(e.target.value),variant:"bordered",color:"secondary",fullWidth:!0,isRequired:!0},"username"),(0,a.jsx)(c.Y0,{color:"secondary",type:"submit",isDisabled:!n,children:"Continue"})]})})})]})})};var p=r(89726),b=r.n(p);let x=(()=>{let e="/eldoria";return{0:{text:"Beneath the cloak of predawn's embrace, a figure moves with the quiet promise of youth, skirting the edges of Eldoria's grandeur.\n      The city, a tapestry of towering aspirations and hushed marketplaces, slumbers under a shroud of uneasy silence, its heartbeats muffled by whispers of shadows yet unseen.",backgroundImage:e+"/tutorial/1.png"},1:{text:"This is your story, etched in the fervor of dreams too vast for the confines of cobblestone realities.\n      Armed with naught but the raw edge of daring and a spark of cunning, you stand at the precipice of fate, drawn inexorably to the one haven where chaos births legends: the veiled sanctum of the Thieves' Guild of Eldoria.",backgroundImage:e+"/tutorial/2.png"},2:{text:"Yet, the Guild's embrace is not for the faint of heart, for its thresholds are guarded by riddles and trials, known only to those whose courage outshines the glint of steel in the moonlight.\n      A trial awaits in the arena, an ancient dance of destiny where the threads of future are woven or severed.",backgroundImage:e+"/tutorial/3.png"},3:{text:'With dawn\'s first whisper, the city\'s ancient bones are cast in a tapestry of shadows, and it is here you find yourself, before a gateway shrouded in secrecy, its whispers laden with promise and peril alike.\n      Your heart, a drum of war and wonder, echoes the tumultuous cadence of the coming storm.\n      "Step forth, child of the shadows," intones a voice, as ethereal as the morning mist, "for the fate of Eldoria is a tapestry in flux, and you seek to claim your thread amongst its hues.\n      Prove your mettle, let the Guild be your crucible, your sanctuary, your kin. Falter, and fade into the annals of the forgotten, another wraith in the city\'s endless lament."\n      Drawing a breath that tastes of destiny, you cross the threshold, the gates behind you whispering tales of those who walked this path before.\n      Herein lies your odyssey, in the heart of Eldoria, where shadows sing secrets and every choice forges the path of your legacy.',backgroundImage:e+"/tutorial/4.png"},4:{text:'"What name shall the echoes of these halls whisper, young aspirant?" the shadows inquire, a prelude to the saga awaiting your breath.'},5:{text:"So be it, {0}. The crucible of your tale ignites this very moment. May your wit be as swift as the wind, your resolve as steadfast as the deep roots of Eldoria.\n      With the resolve of a thousand whispered vows, you step forth into the arena, its gates sealing with the finality of fate's own decree...\n      It stretches before you, an expanse of dust and echoes, bound by ancient stone and the weight of countless stories.\n      Torches flicker in their sconces, casting a wavering glow upon the figures gathered within, each a potential ally or adversary in the crucible that awaits.\n      You know that you must prove your worth to the Guild by facing different encounters in the future. Each figure you meet can become a valuable ally, or a fierce opponent.\n      The more allies you gather, the easier your journey will be after this trial. However, you may choose to walk this path alone, should you seek the challenge.",backgroundImage:e+"/tutorial/5.png"},6:{text:'Unexpectedly, a figure steps forward and the firelight dances across a weathered face, etched with lines deeper than any canyon.\n      A shock of beard, the color of storm clouds, frames eyes that gleam like molten gold.\n      Though his stature is impressive, a hint of something low-slung lurks beneath his heavy cloak.\n      "They call me Thane," his voice rumbles, a tremor in the earth itself.\n      "Will you stand with me, or will we test the weight of each other\'s steel?"',backgroundImage:e+"/characters/encounter-0.png",character:n.xi},7:{text:'Without warning, a shadow detaches itself from the periphery, coalescing into a lithe, hooded form.\n      "Call me Nyssa," she whispers, a dagger spinning lazily in her fingers.\n      "The shadows are my domain. Together, we could dance through danger unseen. What say you?"',backgroundImage:e+"/characters/encounter-1.png",character:n.XD},8:{text:'In a small a bulge to the side, you find an elder man in the shadows, draped in flowing robes that seem to swallow the faint light.\n      No weapon hangs at his hip, no glint of steel betrays his purpose.\n      Yet, his eyes burn with an intensity that speaks of power beyond the physical realm.\n      "I am Elyndor," his voice a smooth caress that sends shivers down your spine.\n      "Ally with me, and the very elements shall bow to our will. Or shall I test your resistance to the unknown?"',backgroundImage:e+"/characters/encounter-2.png",character:n.st},9:{text:'Suddenly, a warrior encased in gleaming armor strides forward, his broad shoulders filling the space with an air of restrained power.\n      A dark hood obscures his features entirely, leaving only the glint of steel from his visor visible.\n      "They call me Brom," his voice booms, a low rumble that vibrates through the ground.\n      "Together, we could topple fortresses. But make no mistake, my kindness has limits. Choose your path wisely."',backgroundImage:e+"/characters/encounter-3.png",character:n.Df},10:{text:'As you step further into the arena, a woman of otherworldly grace emerges.\n      Her form, clad in light armor that seems almost an extension of nature itself, moves with a dancer\'s ease.\n      Pointed ears peek through her flowing hair, a whisper of ancient lineage.\n      "I am Selene," her voice lilts like a gentle breeze.\n      "Walk with me, and I can guide you through darkness and light. Or will you succumb to the shadows that cling to us all?"',backgroundImage:e+"/characters/encounter-4.png",character:n.lb},11:{text:"Congratulations, fledgling band of shadows.\n      You've weathered the whispers of doubt and forged a fragile pact beneath the watchful gaze of the Guild.\n      Remember, the path ahead is a tangled skein, woven with the threads of both triumph and tribulation.\n      Let your camaraderie be a shield against the coming storms, and may your cunning and courage illuminate the shadows that lurk in every corner.\n      This is your odyssey, etched in the annals of legend. Go forth, and claim your destiny with the unwavering spirit of Eldoria's heroes.",backgroundImage:e+"/tutorial/6.png"}}})(),v=()=>{let[e,t]=(0,i.useState)(0),[r,h]=(0,i.useState)(""),[c,d]=(0,i.useState)([]);(0,i.useEffect)(()=>{r&&t(e=>e+1)},[r,c]);let u=(0,s.useRouter)();if(!x[e])return(0,a.jsx)(a.Fragment,{});let{text:g,backgroundImage:y,character:p}=x[e],v=()=>t(e=>e+1),A=()=>{(0,l.Vd)({username:r,team:[(0,n.qs)(r,n.oF.HUMAN,n.mQ.SHARPSHOOTER),...c],tutorial:!0,showHints:!0}),u.push("/board")};return(0,a.jsx)(o.Ny,{mode:"wait",children:(0,a.jsx)(o.PY.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:b().container,style:{backgroundImage:y?"url(".concat(y,")"):void 0},children:e<=3?(0,a.jsx)(m,{continueFunction:v,text:g}):4===e?(0,a.jsx)(w,{continueFunction:h,text:g}):5===e?(0,a.jsx)(m,{continueFunction:v,text:g.replace("{0}",r)}):e>=6&&e<=10?p?(0,a.jsx)(f,{acceptFunction:()=>d([...c,p]),refuseFunction:v,text:g}):(0,a.jsx)(a.Fragment,{}):11===e?(0,a.jsx)(m,{continueFunction:A,text:g}):null},e)})}},88855:(e,t,r)=>{"use strict";r.d(t,{RQ:()=>o,Vd:()=>n,kQ:()=>s});let a=Object.freeze("eldoria-configuration"),n=e=>{localStorage.setItem(a,JSON.stringify(e))},o=()=>{let e=localStorage.getItem(a);if(e)try{return JSON.parse(e)}catch(e){console.error("Failed to parse stored configuration:",e)}return null},s=()=>{localStorage.removeItem(a)}},51408:(e,t,r)=>{"use strict";r.d(t,{Df:()=>F,wi:()=>n,Yj:()=>o,Kj:()=>a.K,st:()=>G,vW:()=>N,Fv:()=>s,XD:()=>D,oF:()=>C,lb:()=>Y,mQ:()=>L,xi:()=>O,tC:()=>m,$W:()=>d,Hd:()=>I,qs:()=>R});var a=r(63628);let n="cell:character",o="cell:core",s=6,i=()=>{let e=[];for(let t=0;t<12;t++){let r=[];for(let e=0;e<12;e++){let a=(5===e||6===e)&&(5===t||6===t);r[e]={x:e,y:t,content:a?{type:o}:void 0}}e.push(Object.freeze(r))}return{cells:Object.freeze(e)}};var l=r(3105);let h=(e,t)=>{let{G:r}=e;r.selectedCharacterIndex=t},c={moves:{highlightCharacter:h},next:l.g9},d=e=>"0"===e?"Player":"Enemy",u=[],f=e=>{u.push(e)},m=()=>[...u],g=(e,t,r,a)=>!!e.cells[a]&&!!e.cells[a][r]&&!e.cells[a][r].content,y=e=>{let{ctx:t}=e;return(t.playOrderPos+1)%t.numPlayers},w={moves:{highlightCharacter:h,placeCharacter:(e,t,r,a)=>{let{G:o,events:s}=e,i=o.team.findIndex(e=>e.name===t.name);g(o.grid,t,r,a)&&i>=0&&(o.grid.cells[a][r].content={type:n,characterIndex:i},f("Placed character '".concat(t.name,"' onto (").concat(r,"/").concat(a,")")),s.endTurn())}},next:l.E3,turn:{order:{first:()=>0,next:y,playOrder:e=>{let{G:t}=e;return"0"===t.startingPlayer?["0","1"]:["1","0"]}}},endIf:e=>{let{G:t}=e,r=0;for(let e of t.grid.cells)for(let t of e)t.content&&t.content.type===n&&r++;return r===t.team.length}},p={moves:{initGame:(e,t)=>{let{G:r,ctx:a}=e,{username:n,team:o,tutorial:s,showHints:i}=t;r.username=n,r.team=o,r.tutorial=s,r.showHints=i;for(let e=0;e<a.numPlayers;e++)r.diceRoll["".concat(e)]=0}},next:l.GV,endIf:e=>{let{G:t}=e;return!!t.username},start:!0},b={moves:{highlightCharacter:h},next:l.tR};var x=r(76044);let v={moves:{rollDice:e=>{let{G:t,ctx:r,events:a,random:n}=e;if(!Object.keys(t.diceRoll).includes(r.currentPlayer))return x.n;let o=n.D20();if(t.diceRoll[r.currentPlayer]=o,f("".concat(d(r.currentPlayer)," rolled ").concat(o)),0!==t.diceRoll["0"]&&0!==t.diceRoll["1"]){if(t.diceRoll["0"]===t.diceRoll["1"])t.diceRoll={0:0,1:0};else{let e=t.diceRoll["0"]>t.diceRoll["1"]?"0":"1";t.startingPlayer=e,f("".concat(d(e)," rolled higher and will start the game"))}}a.endTurn()}},next:l.OV,turn:{order:{first:()=>0,next:y}},endIf:e=>{let{G:t}=e;return!!t.startingPlayer},onEnd:e=>{let{G:t}=e;t.diceRoll={0:0,1:0}}},A={moves:{highlightCharacter:h},next:l.E3},I=e=>{if(void 0!==e.selectedCharacterIndex&&e.selectedCharacterIndex>=0)return e.team[e.selectedCharacterIndex]},N={name:"fantasy-board-game",minPlayers:2,maxPlayers:2,setup:()=>({diceRoll:{0:0,1:0},grid:i(),startingPlayer:void 0,team:[],username:"",tutorial:!1,showHints:!0}),moves:{},turn:{minMoves:1,maxMoves:1},phases:{[l.fI]:p,[l.GV]:v,[l.OV]:w,[l.E3]:b,[l.tR]:c,[l.g9]:A}},R=(e,t,r)=>{let a=t.baseDexterity+r.dexterityMod,n=10+Math.floor(a/2)-5+r.acBonus,o=t.baseConstitution+r.constitutionMod,s=100+r.hpBonus+5*o;return new E(e,t.label,r.label,s,s,n,t.baseStrength+r.strengthMod,a,o,t.baseIntelligence+r.intelligenceMod,t.baseWisdom+r.wisdomMod,t.baseCharisma+r.charismaMod)};class E{constructor(e,t,r,a,n,o,s,i,l,h,c,d){this.name=e,this.race=t,this.specialization=r,this.currentHP=a,this.maxHP=n,this.ac=o,this.strength=s,this.dexterity=i,this.constitution=l,this.intelligence=h,this.wisdom=c,this.charisma=d}}class C{static fromLabel(e){let t=e.trim().toLowerCase();for(let e of this.ALL_RACES)if(e.label.toLowerCase()===t)return e;throw Error("Unknown race label: ".concat(e))}constructor(e,t,r,a,n,o,s){this.label=e,this.baseStrength=t,this.baseDexterity=r,this.baseConstitution=a,this.baseIntelligence=n,this.baseWisdom=o,this.baseCharisma=s}}C.HUMAN=new C("Human",10,10,10,10,10,10),C.DWARF=new C("Dwarf",12,8,13,10,11,9),C.ELF=new C("Elf",8,12,9,12,11,11),C.HALFLING=new C("Halfling",8,13,10,10,11,12),C.GIANT=new C("Giant",14,6,13,7,10,8),C.ALL_RACES=[C.HUMAN,C.DWARF,C.ELF,C.HALFLING,C.GIANT];var k=r(59394),j=r(30667),P=r(34274),S=r(11663),T=r(593),_=r(29647),H=r(38835),M=r(63182);class L{static fromLabel(e){let t=e.trim().toLowerCase();for(let e of this.ALL_SPECIALIZATIONS)if(e.label.toLowerCase()===t)return e;throw Error("Unknown specialization label: ".concat(e))}constructor(e,t,r,a,n,o,s,i,l,h){this.label=e,this.icon=t,this.hpBonus=r,this.acBonus=a,this.strengthMod=n,this.dexterityMod=o,this.constitutionMod=s,this.intelligenceMod=i,this.wisdomMod=l,this.charismaMod=h}}L.GUARDIAN=new L("Guardian",k.A,50,3,2,0,3,-1,1,0),L.CHAMPION=new L("Champion",j.A,30,1,3,1,1,0,0,0),L.ROGUE=new L("Rogue",P.A,10,1,1,4,0,1,1,0),L.SHARPSHOOTER=new L("Sharpshooter",S.A,20,0,1,3,0,1,2,0),L.ARCANIST=new L("Arcanist",T.A,0,0,-1,1,0,4,2,1),L.NECROMANCER=new L("Necromancer",P.A,10,0,0,1,1,3,0,2),L.PALADIN=new L("Paladin",_.A,40,2,2,0,2,0,2,1),L.LUMINARY=new L("Luminary",H.A,20,0,0,0,1,1,4,1),L.MYSTIC_HERALD=new L("Mystic Herald",M.A,10,0,0,1,1,2,2,2),L.ALL_SPECIALIZATIONS=[L.GUARDIAN,L.CHAMPION,L.ROGUE,L.SHARPSHOOTER,L.ARCANIST,L.NECROMANCER,L.PALADIN,L.LUMINARY,L.MYSTIC_HERALD];let O=R("Thane",C.DWARF,L.GUARDIAN),D=R("Nyssa",C.HUMAN,L.ROGUE),G=R("Elyndor",C.DWARF,L.ARCANIST),F=R("Brom",C.GIANT,L.CHAMPION),Y=R("Selene",C.ELF,L.LUMINARY)},3105:(e,t,r)=>{"use strict";r.d(t,{E3:()=>s,GV:()=>n,OV:()=>o,fI:()=>a,g9:()=>l,tR:()=>i});let a="INIT_PHASE",n="ROLL_PHASE",o="GATHER_GROUP_PHASE",s="MOVEMENT_PHASE",i="ACTION_PHASE",l="TURN_END_PHASE"},90304:(e,t,r)=>{"use strict";r.d(t,{Y0:()=>o,o3:()=>u});var a=r(19488),n=r(87781);let o=(0,r(46124).forwardRef)((e,t)=>{let{children:r,color:o="primary",type:s="button",...i}=e;return(0,a.jsx)(n.T,{color:o,ref:t,type:s,...i,children:r})});o.displayName="DefaultButton";var s=r(42365),i=r(94919),l=r(54456),h=r(40014),c=r(93010),d=r.n(c);let u=e=>{let{ariaLabel:t,items:r,label:n,onSelectionChange:c}=e;return(0,a.jsxs)(s.A,{className:d().dropdown,children:[(0,a.jsx)(i.b,{children:(0,a.jsx)(o,{className:"transition-transform",color:"secondary",children:n})}),(0,a.jsx)(l.y,{variant:"flat",disallowEmptySelection:!0,items:r,onSelectionChange:c,selectionMode:"single","data-testid":t,children:e=>(0,a.jsx)(h.Y,{color:"default",children:e.label},e.label)})]})}},89438:(e,t,r)=>{"use strict";r.d(t,{e2v:()=>a.e2v,ZpM:()=>a.ZpM,Sc0:()=>a.Sc0,pde:()=>a.pde,aFV:()=>a.aFV,cwr:()=>a.cwr,$mQ:()=>a.$mQ,jlY:()=>a.jlY,y$y:()=>a.y$y}),r(90304),r(34500),r(34744);var a=r(78082)},34500:(e,t,r)=>{"use strict";r.d(t,{Ny:()=>a.Ny,PY:()=>a.PY});var a=r(26215);r(66022)},34744:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AppUIProvider:()=>s,NextThemeProvider:()=>i});var a=r(19488),n=r(50610),o=r(66022);let s=e=>{let{children:t}=e;return(0,a.jsx)(n.b,{children:t})},i=e=>{let{children:t,themeProps:r}=e;return(0,a.jsx)(o.N,{defaultTheme:"system",themes:["light","dark","system"],forcedTheme:"light",...r,children:t})}},89726:e=>{e.exports={container:"page_container__2P6f1"}},19397:e=>{e.exports={main:"text-with-input-and-confirm-button_main____HQZ",flexBoxCenter:"text-with-input-and-confirm-button_flexBoxCenter__Gt60I",inputContainer:"text-with-input-and-confirm-button_inputContainer__7DtLH"}},83318:e=>{e.exports={footer:"tutorial_footer__jVirT"}},93010:e=>{e.exports={dropdown:"dropdown-for-list-items_dropdown__grQjg"}}},e=>{var t=t=>e(e.s=t);e.O(0,[539,978,251,5,923,463,358],()=>t(39884)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{7738:function(e,t,n){Promise.resolve().then(n.bind(n,4337))},4337:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var i=n(8952),r=n(5074),a=n(3698),s=n(3372),o=n(1474),l=n(5158);let c=[s.mX.HUMAN,s.mX.DWARF,s.mX.ELF,s.mX.HALFLING,s.mX.GIANT],u=[s._J.TANK,s._J.WARRIOR,s._J.ASSASSIN,s._J.ARCHER,s._J.MAGE,s._J.HEALER,s._J.BUFFER];var d=e=>{let{character:t,onChange:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.IIB,{type:"text",label:"Name",value:t.name,onChange:e=>n({...t,name:e.target.value}),variant:"bordered",color:"secondary",fullWidth:!0,isRequired:!0},"Name"),(0,i.jsx)(l.wQ,{ariaLabel:"Character race selection",items:c,label:t.race.label,onSelectionChange:e=>{let i=c.find(t=>t.label===e.values().next().value);i&&n({...t,race:i})}}),(0,i.jsx)(l.wQ,{ariaLabel:"Character specialization selection",items:u,label:t.specialization.label,onSelectionChange:e=>{let i=u.find(t=>t.label===e.values().next().value);i&&n({...t,specialization:i})}})]})},h=n(2664),m=n(9369),f=n(1329),p=n(8311),g=n.n(p);let x=()=>new s.zk("",s.mX.HUMAN,s._J.HEALER);var A=()=>{let[e,t]=(0,r.useState)([x()]),[n,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{c(!e.some(e=>!e.name))},[e]);let u=(0,a.useRouter)(),p=n=>{let i=[...e];1===i.splice(n,1).length&&t(i)},A=(n,i)=>{let r=[...e];r[n]=new s.zk(i.name,i.race,i.specialization),t(r)};return(0,i.jsx)("div",{className:g().container,children:(0,i.jsx)(m.u_,{backdrop:"blur",classNames:{body:g().modalBody},isOpen:!0,children:(0,i.jsx)(m.hz,{children:(0,i.jsx)(m.fe,{children:(0,i.jsx)(m.M_,{mode:"wait",children:(0,i.jsx)("form",{onSubmit:t=>{t.preventDefault(),(0,f.vr)({username:e[0].name,team:e}),u.push("/board")},"data-testid":"input-form",children:(0,i.jsxs)(m.EA.div,{initial:"initial",animate:"animate",exit:"exit",className:"flex flex-col gap-y-2 items-center",transition:{duration:.3},variants:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},children:[e.map((t,n)=>(0,i.jsxs)(m.EA.div,{className:g().inputContainer,transition:{delay:.1*e.length},variants:h.d,children:[(0,i.jsx)(d,{character:t,onChange:e=>A(n,e)}),(0,i.jsx)(l.am,{"aria-label":"Remove character",color:"danger",isIconOnly:!0,isDisabled:0===n,onClick:()=>p(n),children:"\uD83D\uDDD1ï¸"})]},"character-configuration-".concat(n))),(0,i.jsx)(m.EA.div,{transition:{delay:.1*(e.length+1)},variants:h.d,children:(0,i.jsxs)(o.hE2,{children:[(0,i.jsx)(l.am,{color:"secondary",onClick:()=>{t([...e,x()])},variant:"bordered",children:"Add Ally"}),(0,i.jsx)(l.am,{onClick:()=>u.push("/"),color:"warning",children:"Cancel"}),(0,i.jsx)(l.am,{color:"secondary",type:"submit",isDisabled:!n,children:"Start Game"})]})})]},"configure-game-options")})})})})})})}},1329:function(e,t,n){"use strict";n.d(t,{W2:function(){return s},kI:function(){return a},vr:function(){return r}});let i=Object.freeze("eldoria-configuration"),r=e=>{localStorage.setItem(i,JSON.stringify(e))},a=()=>{let e=localStorage.getItem(i);if(e)try{return JSON.parse(e)}catch(e){console.error("Failed to parse stored configuration:",e)}return null},s=()=>{localStorage.removeItem(i)}},2664:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});let i=Object.freeze({initial:{height:0,opacity:0,y:50},animate:{height:"auto",opacity:1,y:0},exit:{height:0,opacity:0,y:-50}})},3372:function(e,t,n){"use strict";n.d(t,{gY:function(){return u},zk:function(){return r},KU:function(){return h.K},gV:function(){return c},o2:function(){return i},VH:function(){return l},mX:function(){return a},ue:function(){return d},_J:function(){return s},XG:function(){return o}});let i={name:"fantasy-board-game",minPlayers:1,maxPlayers:1,setup:()=>({username:"",team:[]}),validateSetupData:e=>{if(1!==e)return"Mulitplayer is currently not supported!"},moves:{},turn:{minMoves:1,maxMoves:1},phases:{[n(7165).q]:{moves:{initGame:(e,t)=>{let{G:n}=e,{username:i,team:r}=t;n.username=i,n.team=r}},next:"phaseB",endIf:e=>{let{G:t}=e;return!!t.username},start:!0},phaseB:{}}};class r{constructor(e,t,n){this.name=e,this.race=t,this.specialization=n,this.strength=t.baseStrength+n.strengthMod,this.dexterity=t.baseDexterity+n.dexterityMod,this.constitution=t.baseConstitution+n.constitutionMod,this.intelligence=t.baseIntelligence+n.intelligenceMod,this.wisdom=t.baseWisdom+n.wisdomMod,this.charisma=t.baseCharisma+n.charismaMod,this.maxHP=100+n.hpBonus+5*this.constitution,this.ac=10+Math.floor(this.dexterity/2)-5+n.acBonus}}class a{constructor(e,t,n,i,r,a,s){this.label=e,this.baseStrength=t,this.baseDexterity=n,this.baseConstitution=i,this.baseIntelligence=r,this.baseWisdom=a,this.baseCharisma=s}}a.HUMAN=new a("Human",10,10,10,10,10,10),a.DWARF=new a("Dwarf",12,8,13,10,11,9),a.ELF=new a("Elf",8,12,9,12,11,11),a.HALFLING=new a("Halfling",8,13,10,10,11,12),a.GIANT=new a("Giant",14,6,13,7,10,8);class s{constructor(e,t,n,i,r,a,s,o,l){this.label=e,this.hpBonus=t,this.acBonus=n,this.strengthMod=i,this.dexterityMod=r,this.constitutionMod=a,this.intelligenceMod=s,this.wisdomMod=o,this.charismaMod=l}}s.TANK=new s("Tank",50,3,2,0,3,-1,1,0),s.WARRIOR=new s("Warrior",30,1,3,1,1,0,0,0),s.ASSASSIN=new s("Assassin",10,1,1,4,0,1,1,0),s.ARCHER=new s("Archer",20,0,1,3,0,1,2,0),s.MAGE=new s("Mage",0,0,-1,1,0,4,2,1),s.HEALER=new s("Healer",20,0,0,0,1,1,4,1),s.BUFFER=new s("Buffer",10,0,0,1,1,2,2,2);let o=new r("Thane",a.DWARF,s.TANK),l=new r("Nyssa",a.HUMAN,s.ASSASSIN),c=new r("Elyndor",a.DWARF,s.MAGE),u=new r("Brom",a.GIANT,s.WARRIOR),d=new r("Selene",a.ELF,s.HEALER);var h=n(3494)},7165:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});let i="init"},2291:function(e,t,n){"use strict";n.d(t,{a:function(){return s}});var i=n(8952),r=n(5074),a=n(1270);let s=(0,r.forwardRef)((e,t)=>{let{children:n,color:r="primary",type:s="button",...o}=e;return(0,i.jsx)(a.A,{color:r,ref:t,type:s,...o,children:n})});t.Z=s},5158:function(e,t,n){"use strict";n.d(t,{am:function(){return i.a},wQ:function(){return d}});var i=n(2291),r=n(8952),a=n(1466),s=n(8605),o=n(3559),l=n(1086),c=n(4150),u=n.n(c);let d=e=>{let{ariaLabel:t,items:n,label:c,onSelectionChange:d}=e;return(0,r.jsxs)(a.F,{className:u().dropdown,children:[(0,r.jsx)(s.S,{children:(0,r.jsx)(i.Z,{className:"transition-transform",color:"secondary",children:c})}),(0,r.jsx)(o.a,{"aria-label":t,variant:"flat",disallowEmptySelection:!0,items:n,onSelectionChange:d,selectionMode:"single",children:e=>(0,r.jsx)(l.W,{color:"default",children:e.label},e.label)})]})}},1474:function(e,t,n){"use strict";n.d(t,{hE2:function(){return i.hE2},IIB:function(){return i.IIB}}),n(5158),n(9369),n(101);var i=n(6452)},9369:function(e,t,n){"use strict";n.d(t,{M_:function(){return i.M_},u_:function(){return r.R},fe:function(){return a.I},hz:function(){return s.A},EA:function(){return i.EA}});var i=n(4573);n(9202);var r=n(3090),a=n(4761),s=n(7626)},101:function(e,t,n){"use strict";n.r(t),n.d(t,{AppUIProvider:function(){return s},NextThemeProvider:function(){return o}});var i=n(8952),r=n(9873),a=n(9202);let s=e=>{let{children:t}=e;return(0,i.jsx)(r.w,{children:t})},o=e=>{let{children:t,themeProps:n}=e;return(0,i.jsx)(a.f,{defaultTheme:"system",themes:["light","dark","system"],forcedTheme:"light",...n,children:t})}},8311:function(e){e.exports={container:"page_container__B6sVQ",modalBody:"page_modalBody__jq8WB",inputContainer:"page_inputContainer__jkL9D"}},4150:function(e){e.exports={dropdown:"dropdown-for-list-items_dropdown__grQjg"}}},function(e){e.O(0,[79,90,494,361,816,301,499,744],function(){return e(e.s=7738)}),_N_E=e.O()}]);
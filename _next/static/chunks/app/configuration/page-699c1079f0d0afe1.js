(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[220],{9862:function(e,t,n){Promise.resolve().then(n.bind(n,4038))},4038:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(244),i=n(1527),a=n(1410),s=n(3102),o=n(6678),l=n(4524);let c=[s.mX.HUMAN,s.mX.DWARF,s.mX.ELF,s.mX.HALFLING,s.mX.GIANT],u=[s._J.TANK,s._J.WARRIOR,s._J.ASSASSIN,s._J.ARCHER,s._J.MAGE,s._J.HEALER,s._J.BUFFER];var d=e=>{let{character:t,onChange:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.IIB,{type:"text",label:"Name",value:t.name,onChange:e=>n({...t,name:e.target.value}),variant:"bordered",color:"secondary",fullWidth:!0,isRequired:!0},"Name"),(0,r.jsx)(l.wQ,{ariaLabel:"Character race selection",items:c,label:t.race.label,onSelectionChange:e=>{let r=c.find(t=>t.label===e.values().next().value);r&&n({...t,race:r})}}),(0,r.jsx)(l.wQ,{ariaLabel:"Character specialization selection",items:u,label:t.specialization.label,onSelectionChange:e=>{let r=u.find(t=>t.label===e.values().next().value);r&&n({...t,specialization:r})}})]})},h=n(1557),m=n(5761),f=n(3216),p=n(6865),g=n.n(p);let x=()=>new s.zk("",s.mX.HUMAN,s._J.HEALER);var b=()=>{let[e,t]=(0,i.useState)([x()]),[n,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{c(!e.some(e=>!e.name))},[e]);let u=(0,a.useRouter)(),p=n=>{let r=[...e];1===r.splice(n,1).length&&t(r)},b=(n,r)=>{let i=[...e];i[n]=new s.zk(r.name,r.race,r.specialization),t(i)};return(0,r.jsx)("div",{className:g().container,children:(0,r.jsx)(f.u_,{backdrop:"blur",classNames:{body:g().modalBody},isOpen:!0,children:(0,r.jsx)(f.hz,{children:(0,r.jsx)(f.fe,{children:(0,r.jsx)(f.M_,{mode:"wait",children:(0,r.jsx)("form",{onSubmit:t=>{t.preventDefault(),(0,h.vr)({username:e[0].name,team:e}),u.push("/board")},"data-testid":"input-form",children:(0,r.jsxs)(f.EA.div,{initial:"initial",animate:"animate",exit:"exit",className:"flex flex-col gap-y-2 items-center",transition:{duration:.3},variants:{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},children:[e.map((t,n)=>(0,r.jsxs)(f.EA.div,{className:g().inputContainer,transition:{delay:.1*e.length},variants:m.d,children:[(0,r.jsx)(d,{character:t,onChange:e=>b(n,e)}),(0,r.jsx)(l.am,{"aria-label":"Remove character",color:"danger",isIconOnly:!0,isDisabled:0===n,onClick:()=>p(n),children:"\uD83D\uDDD1ï¸"})]},"character-configuration-".concat(n))),(0,r.jsx)(f.EA.div,{transition:{delay:.1*(e.length+1)},variants:m.d,children:(0,r.jsxs)(o.hE2,{children:[(0,r.jsx)(l.am,{color:"secondary",onClick:()=>{t([...e,x()])},variant:"bordered",isDisabled:e.length>=s.e9,children:"Add Ally"}),(0,r.jsx)(l.am,{onClick:()=>u.push("/"),color:"warning",children:"Cancel"}),(0,r.jsx)(l.am,{color:"secondary",type:"submit",isDisabled:!n,children:"Start Game"})]})})]},"configure-game-options")})})})})})})}},1557:function(e,t,n){"use strict";n.d(t,{W2:function(){return s},kI:function(){return a},vr:function(){return i}});let r=Object.freeze("eldoria-configuration"),i=e=>{localStorage.setItem(r,JSON.stringify(e))},a=()=>{let e=localStorage.getItem(r);if(e)try{return JSON.parse(e)}catch(e){console.error("Failed to parse stored configuration:",e)}return null},s=()=>{localStorage.removeItem(r)}},5761:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});let r=Object.freeze({initial:{height:0,opacity:0,y:50},animate:{height:"auto",opacity:1,y:0},exit:{height:0,opacity:0,y:-50}})},1410:function(e,t,n){"use strict";var r=n(5543);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},3102:function(e,t,n){"use strict";n.d(t,{gY:function(){return h},zk:function(){return s},KU:function(){return f.K},gV:function(){return d},o2:function(){return a},e9:function(){return r},VH:function(){return u},mX:function(){return o},ue:function(){return m},_J:function(){return l},XG:function(){return c}});let r=6,i=()=>{let e=[];for(let t=0;t<64;t++){let n=[];for(let e=0;e<64;e++)n[e]={x:e,y:t};e.push(Object.freeze(n))}return{cells:Object.freeze(e)}},a={name:"fantasy-board-game",minPlayers:1,maxPlayers:1,setup:()=>({username:"",team:[],grid:i()}),validateSetupData:e=>{if(1!==e)return"Multiplayer is currently not supported!"},moves:{},turn:{minMoves:1,maxMoves:1},phases:{[n(7922).q]:{moves:{initGame:(e,t)=>{let{G:n}=e,{username:r,team:i}=t;n.username=r,n.team=i}},next:"phaseB",endIf:e=>{let{G:t}=e;return!!t.username},start:!0},phaseB:{}}};class s{constructor(e,t,n){this.name=e,this.race=t,this.specialization=n,this.strength=t.baseStrength+n.strengthMod,this.dexterity=t.baseDexterity+n.dexterityMod,this.constitution=t.baseConstitution+n.constitutionMod,this.intelligence=t.baseIntelligence+n.intelligenceMod,this.wisdom=t.baseWisdom+n.wisdomMod,this.charisma=t.baseCharisma+n.charismaMod,this.maxHP=100+n.hpBonus+5*this.constitution,this.ac=10+Math.floor(this.dexterity/2)-5+n.acBonus}}class o{constructor(e,t,n,r,i,a,s){this.label=e,this.baseStrength=t,this.baseDexterity=n,this.baseConstitution=r,this.baseIntelligence=i,this.baseWisdom=a,this.baseCharisma=s}}o.HUMAN=new o("Human",10,10,10,10,10,10),o.DWARF=new o("Dwarf",12,8,13,10,11,9),o.ELF=new o("Elf",8,12,9,12,11,11),o.HALFLING=new o("Halfling",8,13,10,10,11,12),o.GIANT=new o("Giant",14,6,13,7,10,8);class l{constructor(e,t,n,r,i,a,s,o,l){this.label=e,this.hpBonus=t,this.acBonus=n,this.strengthMod=r,this.dexterityMod=i,this.constitutionMod=a,this.intelligenceMod=s,this.wisdomMod=o,this.charismaMod=l}}l.TANK=new l("Tank",50,3,2,0,3,-1,1,0),l.WARRIOR=new l("Warrior",30,1,3,1,1,0,0,0),l.ASSASSIN=new l("Assassin",10,1,1,4,0,1,1,0),l.ARCHER=new l("Archer",20,0,1,3,0,1,2,0),l.MAGE=new l("Mage",0,0,-1,1,0,4,2,1),l.HEALER=new l("Healer",20,0,0,0,1,1,4,1),l.BUFFER=new l("Buffer",10,0,0,1,1,2,2,2);let c=new s("Thane",o.DWARF,l.TANK),u=new s("Nyssa",o.HUMAN,l.ASSASSIN),d=new s("Elyndor",o.DWARF,l.MAGE),h=new s("Brom",o.GIANT,l.WARRIOR),m=new s("Selene",o.ELF,l.HEALER);var f=n(458)},7922:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});let r="init"},5038:function(e,t,n){"use strict";n.d(t,{a:function(){return s}});var r=n(244),i=n(1527),a=n(637);let s=(0,i.forwardRef)((e,t)=>{let{children:n,color:i="primary",type:s="button",...o}=e;return(0,r.jsx)(a.A,{color:i,ref:t,type:s,...o,children:n})});t.Z=s},4524:function(e,t,n){"use strict";n.d(t,{am:function(){return r.a},wQ:function(){return d}});var r=n(5038),i=n(244),a=n(5160),s=n(3158),o=n(6018),l=n(6523),c=n(6325),u=n.n(c);let d=e=>{let{ariaLabel:t,items:n,label:c,onSelectionChange:d}=e;return(0,i.jsxs)(a.F,{className:u().dropdown,children:[(0,i.jsx)(s.S,{children:(0,i.jsx)(r.Z,{className:"transition-transform",color:"secondary",children:c})}),(0,i.jsx)(o.a,{"aria-label":t,variant:"flat",disallowEmptySelection:!0,items:n,onSelectionChange:d,selectionMode:"single",children:e=>(0,i.jsx)(l.W,{color:"default",children:e.label},e.label)})]})}},6678:function(e,t,n){"use strict";n.d(t,{hE2:function(){return r.hE2},IIB:function(){return r.IIB},$jN:function(){return r.$jN}}),n(4524),n(3216),n(7160);var r=n(4992)},3216:function(e,t,n){"use strict";n.d(t,{M_:function(){return r.M_},u_:function(){return i.R},fe:function(){return a.I},hz:function(){return s.A},EA:function(){return r.EA}});var r=n(4211);n(4832);var i=n(7164),a=n(8651),s=n(413)},7160:function(e,t,n){"use strict";n.r(t),n.d(t,{AppUIProvider:function(){return s},NextThemeProvider:function(){return o}});var r=n(244),i=n(6380),a=n(4832);let s=e=>{let{children:t}=e;return(0,r.jsx)(i.w,{children:t})},o=e=>{let{children:t,themeProps:n}=e;return(0,r.jsx)(a.f,{defaultTheme:"system",themes:["light","dark","system"],forcedTheme:"light",...n,children:t})}},6865:function(e){e.exports={container:"page_container__B6sVQ",modalBody:"page_modalBody__jq8WB",inputContainer:"page_inputContainer__jkL9D"}},6325:function(e){e.exports={dropdown:"dropdown-for-list-items_dropdown__grQjg"}}},function(e){e.O(0,[438,113,601,14,762,860,744],function(){return e(e.s=9862)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[81],{78318:(e,t,a)=>{Promise.resolve().then(a.bind(a,4765))},4765:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ex});var r=a(19488),s=a(51408),n=a(86085),i=a(3105),c=a(89438),l=a(34500),o=a(13971),d=a(46124),h=a(88855);let u=[],m=[],g=e=>{m.push(e),e.publish(u)},f=e=>{u.push(e),m.forEach(e=>e.publish(u))},x=e=>{e>=0&&e<u.length&&(u.splice(e,1),m.forEach(e=>e.publish(u)))};var p=a(9267),y=a(45320),b=a.n(y);let v=e=>{let{children:t,index:a,title:s="Notification"}=e;return(0,r.jsx)("div",{className:b().notificationContainer,role:"alert",children:(0,r.jsxs)("div",{className:b().notificationBody,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:b().title,children:s}),(0,r.jsx)("div",{className:b().message,children:t})]}),(0,r.jsx)("button",{onClick:()=>x(a),className:b().closeButton,children:(0,r.jsx)(p.A,{size:16})})]})})};var w=a(53371),_=a.n(w),j=a(46297);let C=()=>{let[e,t]=(0,d.useState)([]),{NODE_ENV:a}=j.env;return(0,d.useEffect)(()=>{g({publish:e=>{t([...e])}})},[t]),(0,r.jsx)("div",{className:"\n          ".concat(_().notificationsList," ").concat("development"===a?"right-16":"right-4","\n    "),"data-testid":"notifications-container",children:(0,r.jsx)(l.Ny,{children:e.map((e,t)=>(0,r.jsx)(l.PY.div,{initial:{opacity:0,x:100,y:0},animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:100,y:0},transition:{type:"spring",stiffness:300,damping:30},children:(0,r.jsx)(v,{title:e.title,index:t,children:e.body})},t))})})};var N=a(56569),I=a.n(N);let A="game-grid",E="draggable:character";var M=a(38219),P=a.n(M);let R=e=>{let{character:t,index:a,isPlacementPossible:i,highlightCharacter:c}=e,{attributes:l,isDragging:o,listeners:h,setNodeRef:u}=(0,n.PM)({id:"character-".concat(a),data:{character:t,type:E},disabled:!i}),m=(0,d.useMemo)(()=>s.mQ.fromLabel(t.specialization).icon,[t.specialization]);return(0,r.jsxs)(d.Fragment,{children:[(0,r.jsxs)("div",{className:"".concat(P().cardIcon," ").concat(i&&P().cardIconFocus),ref:u,...h,...l,onClick:c,children:[(0,r.jsx)(m,{className:P().cardIconInner}),(0,r.jsx)("span",{children:t.name})]}),(0,r.jsx)(n.Hd,{dropAnimation:null,children:o&&(0,r.jsxs)("div",{className:"".concat(P().cardIcon," ").concat(i&&P().cardIconFocus),children:[(0,r.jsx)(m,{className:P().cardIconInner}),(0,r.jsx)("span",{children:t.name})]})})]})};var S=a(92205),H=a.n(S);let L=(e,t)=>{for(let r of e.cells)for(let e of r){var a;if((null===(a=e.content)||void 0===a?void 0:a.characterIndex)===t)return!0}return!1},T=e=>{let{characters:t,grid:a,isPlayerTurn:s,highlightCharacter:n}=e;return(0,r.jsx)(c.ZpM,{className:H().characterCard,children:(0,r.jsx)("div",{className:H().characterCardContent,children:t.map((e,t)=>(0,r.jsx)(R,{character:e,index:t,isPlacementPossible:s&&!L(a,t),highlightCharacter:()=>n(t)},"character-".concat(t)))})})};var k=a(90304),G=a(64459),O=a.n(G);let D=e=>{let{diceRoll:t,rollDice:a,startingPlayer:n}=e,[i,o]=(0,d.useState)(!0),[h,u]=(0,d.useState)(0);return(0,d.useEffect)(()=>{u(0===t["0"]?h:t["0"])},[t,h]),(0,r.jsx)(c.aFV,{backdrop:"blur",classNames:{body:O().modalBody,footer:O().modalBody},hideCloseButton:!n,isDismissable:!!n,isOpen:i,onClose:()=>o(!1),children:(0,r.jsxs)(c.$mQ,{children:[(0,r.jsxs)(c.cwr,{children:[(0,r.jsx)("h2",{className:O().title,children:"Dice Roll"}),(0,r.jsx)("p",{children:"Let the dices decide who begins.. it's either you or the enemy!"}),(0,r.jsxs)(l.Ny,{children:[(0,r.jsxs)("div",{className:O().scoreGrid,children:[(0,r.jsx)("div",{className:"font-bold",children:"Your score:"}),(0,r.jsx)("div",{children:h})]}),n?(0,r.jsxs)("p",{className:"font-bold",children:[(0,s.$W)(n)," scored higher and is the first to move!"]},"you-scored-higher"):(0,r.jsx)(d.Fragment,{},"placeholder-you-scored-higher")]})]}),(0,r.jsx)(c.jlY,{children:(0,r.jsx)(k.Y0,{color:"secondary",onPress:a,isDisabled:0!==h,"data-testid":"button-roll-dice",children:"Roll Dice"})})]})})},Y=e=>{let{close:t}=e;return(0,r.jsxs)("div",{className:I().introductionText,"data-testid":"game-explanation",children:[(0,r.jsx)("p",{className:"w-[50vw]",children:"Beneath Eldoria’s shimmering veneer—a city both fragile and ferocious, a dance of towering ambitions and whispered secrets—there exists a truth rarely spoken aloud. The Thieves’ Guild, whispered of in shadowed alleys and scrawled in half-hearted proclamations, is not the scourge some might imagine. No, their fingers may dance across purse strings and lockpicks, but their purpose delves far deeper than mere mischief."}),(0,r.jsx)("p",{className:"w-[50vw]",children:"For Eldoria rests precariously on the edge of chaos, a bright crown balanced atop the yawning maw of the underworld. Beneath its cobbled streets and glittering spires lies a labyrinth of ancient tunnels, a vast and shifting expanse where the dregs of the world convene. Beasts that should not have names, whispers that curdle thought itself, and dangers unseen crawl forth from this abyss, threatening to sunder the city above."}),(0,r.jsx)("p",{className:"w-[50vw]",children:"The Guild, for all its roguish swagger, is Eldoria’s first—and often only—line of defense. Their silent blades and unseen movements do not merely plunder; they guard. It is their watchful eyes and deft hands that keep the horrors below from ascending into the light. And so, the people of Eldoria, pragmatic to their core, have come to an unspoken accord. Let the Guild go about their business, for their business is all that keeps Eldoria's dreams aloft."}),(0,r.jsx)("p",{className:"w-[50vw]",children:"But now, the tides of darkness rise. Enemies gather, cunning and relentless, seeking to breach the heart of the city: the Core. This sacred nexus is no mere stonework—it is a threshold, the fragile seal between light and shadow. If they reach it, the underworld will spill forth, devouring all."}),(0,r.jsx)("p",{className:"w-[50vw]",children:"You stand here, not as an observer but as a defender, summoned by fate and bound by resolve. The Core must be protected. Eldoria’s future lies in your hands, even as its people slumber, unaware of the storm you will face in their name."}),(0,r.jsx)(k.Y0,{color:"secondary",onPress:()=>t(),"data-testid":"button-close-game-explanation",children:"Understood"})]})},B=(e,t,a,r,s,n)=>{if(e.ctrlKey){e.preventDefault();let i=Math.min(Math.max(t+(e.deltaY>0?1:-1),s),n);if(i===t)return;let c=document.getElementById(A);if(!c)return;let l=c.getBoundingClientRect(),o=(e.clientX-l.left)/l.width,d=(e.clientY-l.top)/l.height,h=a.startX+o*(a.endX-a.startX),u=a.startY+d*(a.endY-a.startY),m=h-o*i,g=u-d*i;return m+i>r&&(m=r-i),g+i>r&&(g=r-i),m<0&&(m=0),g<0&&(g=0),{newGridSize:i,startX:Math.round(m),startY:Math.round(g)}}};var F=a(96513),z=a.n(F);let U=e=>{e.preventDefault()},V=e=>{let{grid:t,gameViewModelMapper:a}=e,s=t.cells.length,[n,i]=(0,d.useState)(4),[c,l]=(0,d.useState)({x:0,y:0}),[o,h]=(0,d.useState)({startX:c.x,endX:n,startY:c.y,endY:n}),[u]=(0,d.useState)(!1);(0,d.useEffect)(()=>{var e;return null===(e=document.getElementById(A))||void 0===e||e.addEventListener("wheel",U,{passive:!1}),()=>{var e;null===(e=document.getElementById(A))||void 0===e||e.removeEventListener("wheel",U)}},[]),(0,d.useEffect)(()=>h({startX:c.x,endX:c.x+n,startY:c.y,endY:c.y+n}),[c,n]);let m=(0,d.useMemo)(()=>a.toViewModel(o),[a,o]);return(0,d.useEffect)(()=>{l({x:Math.floor((s-12)/2),y:Math.floor((s-12)/2)}),i(12)},[s]),(0,r.jsx)("div",{className:z().gameGridContainer,children:(0,r.jsx)("div",{id:A,className:"".concat(z().gameGrid," ").concat(u?"cursor-grabbing":"cursor-grab"),onWheel:e=>{let t=B(e,n,o,s,4,12);t&&(i(t.newGridSize),l({x:t.startX,y:t.startY}))},style:{display:"grid",gridTemplateColumns:"repeat(".concat(n,", 1fr)")},children:m.map(e=>e.draw())})})},W=(e,t,a,r)=>e&&t?"bg-success/50":e?"bg-danger/50":a%2==0&&r%2==0||a%2==1&&r%2==1?"bg-secondary/10":"bg-secondary/25",X=e=>{let t=e.currentHP/e.maxHP*100;return t>70?"bg-success":t>30?"bg-warning":"bg-danger"},Q=e=>(null==e?void 0:e.label)&&({Human:{background:"bg-primary-300",text:"text-primary-300"},Dwarf:{background:"bg-primary-600",text:"text-primary-600"},Elf:{background:"bg-success",text:"text-success"},Halfling:{background:"bg-warning",text:"text-warning"},Giant:{background:"bg-secondary",text:"text-secondary"}})[e.label]||{background:"bg-primary-400",text:"text-primary-400"};var $=a(78395),Z=a.n($),K=a(31464),q=a.n(K);let J=e=>{let{cell:t,character:a,highlightCharacter:i}=e,{x:c,y:l}=t,{isOver:o,setNodeRef:h}=(0,n.zM)({id:"grid-field-".concat(c,"-").concat(l),data:{x:c,y:l,accepts:[]}}),u=W(o,!1,c,l),m=(0,d.useMemo)(()=>s.oF.fromLabel(a.race),[a.race]),g=(0,d.useMemo)(()=>s.mQ.fromLabel(a.specialization).icon,[a.specialization]),f=(0,d.useMemo)(()=>X(a),[a]),x=a.currentHP/a.maxHP*100;return(0,r.jsxs)("div",{ref:h,className:"".concat(q().gridCell," ").concat(u),onClick:i,"data-testid":"cell-".concat(c,"-").concat(l),children:[(0,r.jsx)("div",{className:Z().characterIconContainer,children:(0,r.jsx)(g,{className:"".concat(Z().gridCellText," ").concat(Q(m).text)})}),(0,r.jsx)("div",{className:Z().healthBar,children:(0,r.jsx)("div",{className:"".concat(Z().healthBarInner," ").concat(f),style:{width:"".concat(x,"%")}})})]})};var ee=a(62362);let et=e=>{let{cell:t,unselectCharacter:a}=e,{x:s,y:i}=t,{isOver:c,setNodeRef:l}=(0,n.zM)({id:"grid-field-".concat(s,"-").concat(i),data:{x:s,y:i,accepts:[]}}),o=W(c,!1,s,i);return(0,r.jsx)("div",{ref:l,className:"".concat(q().gridCell," ").concat(o),onClick:a,"data-testid":"cell-".concat(s,"-").concat(i),children:(0,r.jsx)(ee.A,{})})},ea=e=>{let{cell:t,unselectCharacter:a}=e,{x:s,y:i}=t,{isOver:c,setNodeRef:l}=(0,n.zM)({id:"grid-field-".concat(s,"-").concat(i),data:{x:s,y:i,accepts:[E]}}),o=W(c,!0,s,i);return(0,r.jsx)("div",{ref:l,className:"".concat(q().gridCell," ").concat(o),onClick:a,"data-testid":"cell-".concat(s,"-").concat(i),children:(0,r.jsxs)("span",{className:q().gridCellText,children:["(",s,", ",i,")"]})})};class er{constructor(e,t,a){this.grid=e,this.team=t,this.highlightCharacter=a,this.toViewModel=e=>{let{startX:t,endX:a,startY:n,endY:i}=e,c=this.grid.cells.length,l=[];for(let e=n;e<i;e++)for(let n=t;n<a;n++)if(n>=0&&n<c&&e>=0&&e<c&&this.grid.cells[e]&&this.grid.cells[e][n]){let t=this.grid.cells[e][n],a="".concat(n,",").concat(e);if(!t.content){l.push({x:n,y:e,draw:()=>(0,r.jsx)(ea,{cell:t,unselectCharacter:()=>this.highlightCharacter(void 0)},a)});continue}switch(t.content.type){case s.wi:{let s={x:n,y:e,draw:()=>void 0};void 0===t.content.characterIndex||void 0===this.team[t.content.characterIndex]?s.draw=()=>(0,r.jsx)(ea,{cell:t,unselectCharacter:()=>this.highlightCharacter(void 0)},a):s.draw=()=>{let e=t.content.characterIndex;return(0,r.jsx)(J,{cell:t,character:this.team[e],highlightCharacter:()=>this.highlightCharacter(e)},a)},l.push(s);break}case s.Yj:l.push({x:n,y:e,draw:()=>(0,r.jsx)(et,{cell:t,unselectCharacter:()=>this.highlightCharacter(void 0)},a)})}}return l}}}var es=a(40740),en=a(17433),ei=a(60204),ec=a(55664),el=a(34173),eo=a(84276),ed=a(38835),eh=a(45652),eu=a(11786),em=a.n(eu);let eg=e=>{let{chatMessages:t,selectedCharacter:a}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("aside",{className:em().sidebar,children:(0,r.jsxs)("div",{className:em().sidebarContent,children:[(0,r.jsxs)("div",{className:em().chatLogContainer,children:[(0,r.jsx)("h2",{className:em().heading,children:"Game Log"}),(0,r.jsx)("div",{className:em().chatWindow,children:t.map((e,t)=>(0,r.jsx)("p",{children:e},t))})]}),(0,r.jsxs)("div",{className:em().characterContainer,children:[(0,r.jsx)("h2",{className:em().heading,children:"Character Info"}),a&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:em().heading,children:a.name}),(0,r.jsxs)("div",{className:em().characterInformation,children:[(0,r.jsx)("span",{className:Q(s.oF.fromLabel(a.race)).text,children:a.race}),(0,r.jsx)("span",{className:"mx-2",children:"•"}),(0,r.jsx)("span",{children:a.specialization})]})]}),(0,r.jsxs)("div",{className:em().characterMainStatsContainer,children:[(0,r.jsxs)("div",{className:em().characterMainStats,children:[(0,r.jsx)(ed.A,{className:"".concat(em().characterMainStatsIcon," text-danger")}),(0,r.jsxs)("span",{children:[a.currentHP,"/",a.maxHP]})]}),(0,r.jsxs)("div",{className:em().characterMainStats,children:[(0,r.jsx)(eh.A,{className:em().characterMainStatsIcon}),(0,r.jsxs)("span",{children:["Defense: ",a.ac]})]})]}),(0,r.jsxs)(es.j,{hideHeader:!0,children:[(0,r.jsxs)(en.X,{children:[(0,r.jsx)(ei.e,{children:"Property"}),(0,r.jsx)(ei.e,{children:"Value"})]}),(0,r.jsx)(ec.E,{children:[{label:"Strength",value:a.strength},{label:"Dexterity",value:a.dexterity},{label:"Constitution",value:a.constitution},{label:"Intelligence",value:a.intelligence},{label:"Wisdom",value:a.wisdom},{label:"Charisma",value:a.charisma}].map(e=>{let{label:t,value:a}=e;return(0,r.jsxs)(el.s,{children:[(0,r.jsx)(eo.w,{children:t}),(0,r.jsx)(eo.w,{children:a})]},t)})})]})]})]})]})})})},ef=e=>{let{G:t,ctx:a,moves:u}=e,[m,g]=(0,d.useState)(null),[x,p]=(0,d.useState)(!0),y=(0,o.useRouter)();return((0,d.useEffect)(()=>{let e=(0,h.RQ)();!m&&e?g(e):m||e||y.push("/configuration")},[m,y]),(0,d.useEffect)(()=>{m&&a.phase===i.fI&&u.initGame&&u.initGame(m)},[m,a.phase,u]),(0,d.useEffect)(()=>{a.phase!==i.fI&&(0,h.kQ)()},[a.phase]),(0,d.useEffect)(()=>{t.showHints&&f({title:"Ah, my dear friend, let me guide you through this peculiar little endeavor.",body:(0,r.jsx)("p",{children:"Cast your gaze upon the bar below, where the characters await, each brimming with quiet purpose. Gently take hold of them - yes, just so - and place them upon the grid, as one would carefully lay stones for a hearth. Only when all have found their proper place will the game unfold, like the turning of a great and wondrous key."})})},[t.showHints]),(0,d.useEffect)(()=>{t.showHints&&a.phase===i.E3&&f({title:"Ah, the ebb and flow of the game is as a dance, each step revealing a new part of the story.",body:(0,r.jsx)("p",{children:"First, the dice will decide the order of things—a roll of fate to see who acts when. Then comes the heart of the game, where each character takes their turn to move, act, or perhaps seize an opportune moment. And finally, the turn ends, but not without attending to the lingering echoes of choices made. For those seeking greater understanding, the wiki awaits with its deeper wisdom."})})},[t.showHints,a.phase]),t.showHints&&x)?(0,r.jsx)(Y,{close:()=>p(!1)}):a.phase&&a.phase!==i.fI?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C,{}),(0,r.jsxs)(n.Mp,{onDragEnd:e=>{if(!e.over||!u.placeCharacter)return;let t=e.active.data.current,a=e.over.data.current;t&&a&&u.placeCharacter(t.character,a.x,a.y)},children:[u.rollDice&&(0,r.jsx)(D,{diceRoll:t.diceRoll,rollDice:u.rollDice,startingPlayer:t.startingPlayer}),u.highlightCharacter&&(0,r.jsx)(V,{grid:t.grid,gameViewModelMapper:new er(t.grid,t.team,u.highlightCharacter)}),(0,r.jsx)(l.Ny,{children:a.phase===i.OV&&u.highlightCharacter&&(0,r.jsx)(l.PY.div,{initial:{opacity:0,x:0,y:100},animate:{opacity:1,x:0,y:0},exit:{opacity:0,x:0,y:100},transition:{type:"spring",stiffness:300,damping:30},children:(0,r.jsx)(T,{characters:t.team,grid:t.grid,isPlayerTurn:"0"===a.currentPlayer,highlightCharacter:u.highlightCharacter})})})]}),(0,r.jsx)(eg,{chatMessages:(0,s.tC)(),selectedCharacter:(0,s.Hd)(t)})]}):(0,r.jsxs)("div",{className:I().main,children:[(0,r.jsx)(c.y$y,{color:"secondary"}),(0,r.jsx)("p",{className:"ml-2",children:"Game is Loading, hang on a second..."})]})},ex=()=>{let e=(0,s.Kj)({game:s.vW,board:ef,numPlayers:2});return(0,r.jsx)(e,{})}},88855:(e,t,a)=>{"use strict";a.d(t,{RQ:()=>n,Vd:()=>s,kQ:()=>i});let r=Object.freeze("eldoria-configuration"),s=e=>{localStorage.setItem(r,JSON.stringify(e))},n=()=>{let e=localStorage.getItem(r);if(e)try{return JSON.parse(e)}catch(e){console.error("Failed to parse stored configuration:",e)}return null},i=()=>{localStorage.removeItem(r)}},51408:(e,t,a)=>{"use strict";a.d(t,{Df:()=>Y,wi:()=>s,Yj:()=>n,Kj:()=>r.K,st:()=>D,vW:()=>C,Fv:()=>i,XD:()=>O,oF:()=>A,lb:()=>B,mQ:()=>k,xi:()=>G,tC:()=>g,$W:()=>h,Hd:()=>j,qs:()=>N});var r=a(63628);let s="cell:character",n="cell:core",i=6,c=()=>{let e=[];for(let t=0;t<12;t++){let a=[];for(let e=0;e<12;e++){let r=(5===e||6===e)&&(5===t||6===t);a[e]={x:e,y:t,content:r?{type:n}:void 0}}e.push(Object.freeze(a))}return{cells:Object.freeze(e)}};var l=a(3105);let o=(e,t)=>{let{G:a}=e;a.selectedCharacterIndex=t},d={moves:{highlightCharacter:o},next:l.g9},h=e=>"0"===e?"Player":"Enemy",u=[],m=e=>{u.push(e)},g=()=>[...u],f=(e,t,a,r)=>!!e.cells[r]&&!!e.cells[r][a]&&!e.cells[r][a].content,x=e=>{let{ctx:t}=e;return(t.playOrderPos+1)%t.numPlayers},p={moves:{highlightCharacter:o,placeCharacter:(e,t,a,r)=>{let{G:n,events:i}=e,c=n.team.findIndex(e=>e.name===t.name);f(n.grid,t,a,r)&&c>=0&&(n.grid.cells[r][a].content={type:s,characterIndex:c},m("Placed character '".concat(t.name,"' onto (").concat(a,"/").concat(r,")")),i.endTurn())}},next:l.E3,turn:{order:{first:()=>0,next:x,playOrder:e=>{let{G:t}=e;return"0"===t.startingPlayer?["0","1"]:["1","0"]}}},endIf:e=>{let{G:t}=e,a=0;for(let e of t.grid.cells)for(let t of e)t.content&&t.content.type===s&&a++;return a===t.team.length}},y={moves:{initGame:(e,t)=>{let{G:a,ctx:r}=e,{username:s,team:n,tutorial:i,showHints:c}=t;a.username=s,a.team=n,a.tutorial=i,a.showHints=c;for(let e=0;e<r.numPlayers;e++)a.diceRoll["".concat(e)]=0}},next:l.GV,endIf:e=>{let{G:t}=e;return!!t.username},start:!0},b={moves:{highlightCharacter:o},next:l.tR};var v=a(76044);let w={moves:{rollDice:e=>{let{G:t,ctx:a,events:r,random:s}=e;if(!Object.keys(t.diceRoll).includes(a.currentPlayer))return v.n;let n=s.D20();if(t.diceRoll[a.currentPlayer]=n,m("".concat(h(a.currentPlayer)," rolled ").concat(n)),0!==t.diceRoll["0"]&&0!==t.diceRoll["1"]){if(t.diceRoll["0"]===t.diceRoll["1"])t.diceRoll={0:0,1:0};else{let e=t.diceRoll["0"]>t.diceRoll["1"]?"0":"1";t.startingPlayer=e,m("".concat(h(e)," rolled higher and will start the game"))}}r.endTurn()}},next:l.OV,turn:{order:{first:()=>0,next:x}},endIf:e=>{let{G:t}=e;return!!t.startingPlayer},onEnd:e=>{let{G:t}=e;t.diceRoll={0:0,1:0}}},_={moves:{highlightCharacter:o},next:l.E3},j=e=>{if(void 0!==e.selectedCharacterIndex&&e.selectedCharacterIndex>=0)return e.team[e.selectedCharacterIndex]},C={name:"fantasy-board-game",minPlayers:2,maxPlayers:2,setup:()=>({diceRoll:{0:0,1:0},grid:c(),startingPlayer:void 0,team:[],username:"",tutorial:!1,showHints:!0}),moves:{},turn:{minMoves:1,maxMoves:1},phases:{[l.fI]:y,[l.GV]:w,[l.OV]:p,[l.E3]:b,[l.tR]:d,[l.g9]:_}},N=(e,t,a)=>{let r=t.baseDexterity+a.dexterityMod,s=10+Math.floor(r/2)-5+a.acBonus,n=t.baseConstitution+a.constitutionMod,i=100+a.hpBonus+5*n;return new I(e,t.label,a.label,i,i,s,t.baseStrength+a.strengthMod,r,n,t.baseIntelligence+a.intelligenceMod,t.baseWisdom+a.wisdomMod,t.baseCharisma+a.charismaMod)};class I{constructor(e,t,a,r,s,n,i,c,l,o,d,h){this.name=e,this.race=t,this.specialization=a,this.currentHP=r,this.maxHP=s,this.ac=n,this.strength=i,this.dexterity=c,this.constitution=l,this.intelligence=o,this.wisdom=d,this.charisma=h}}class A{static fromLabel(e){let t=e.trim().toLowerCase();for(let e of this.ALL_RACES)if(e.label.toLowerCase()===t)return e;throw Error("Unknown race label: ".concat(e))}constructor(e,t,a,r,s,n,i){this.label=e,this.baseStrength=t,this.baseDexterity=a,this.baseConstitution=r,this.baseIntelligence=s,this.baseWisdom=n,this.baseCharisma=i}}A.HUMAN=new A("Human",10,10,10,10,10,10),A.DWARF=new A("Dwarf",12,8,13,10,11,9),A.ELF=new A("Elf",8,12,9,12,11,11),A.HALFLING=new A("Halfling",8,13,10,10,11,12),A.GIANT=new A("Giant",14,6,13,7,10,8),A.ALL_RACES=[A.HUMAN,A.DWARF,A.ELF,A.HALFLING,A.GIANT];var E=a(59394),M=a(30667),P=a(34274),R=a(11663),S=a(593),H=a(29647),L=a(38835),T=a(63182);class k{static fromLabel(e){let t=e.trim().toLowerCase();for(let e of this.ALL_SPECIALIZATIONS)if(e.label.toLowerCase()===t)return e;throw Error("Unknown specialization label: ".concat(e))}constructor(e,t,a,r,s,n,i,c,l,o){this.label=e,this.icon=t,this.hpBonus=a,this.acBonus=r,this.strengthMod=s,this.dexterityMod=n,this.constitutionMod=i,this.intelligenceMod=c,this.wisdomMod=l,this.charismaMod=o}}k.GUARDIAN=new k("Guardian",E.A,50,3,2,0,3,-1,1,0),k.CHAMPION=new k("Champion",M.A,30,1,3,1,1,0,0,0),k.ROGUE=new k("Rogue",P.A,10,1,1,4,0,1,1,0),k.SHARPSHOOTER=new k("Sharpshooter",R.A,20,0,1,3,0,1,2,0),k.ARCANIST=new k("Arcanist",S.A,0,0,-1,1,0,4,2,1),k.NECROMANCER=new k("Necromancer",P.A,10,0,0,1,1,3,0,2),k.PALADIN=new k("Paladin",H.A,40,2,2,0,2,0,2,1),k.LUMINARY=new k("Luminary",L.A,20,0,0,0,1,1,4,1),k.MYSTIC_HERALD=new k("Mystic Herald",T.A,10,0,0,1,1,2,2,2),k.ALL_SPECIALIZATIONS=[k.GUARDIAN,k.CHAMPION,k.ROGUE,k.SHARPSHOOTER,k.ARCANIST,k.NECROMANCER,k.PALADIN,k.LUMINARY,k.MYSTIC_HERALD];let G=N("Thane",A.DWARF,k.GUARDIAN),O=N("Nyssa",A.HUMAN,k.ROGUE),D=N("Elyndor",A.DWARF,k.ARCANIST),Y=N("Brom",A.GIANT,k.CHAMPION),B=N("Selene",A.ELF,k.LUMINARY)},3105:(e,t,a)=>{"use strict";a.d(t,{E3:()=>i,GV:()=>s,OV:()=>n,fI:()=>r,g9:()=>l,tR:()=>c});let r="INIT_PHASE",s="ROLL_PHASE",n="GATHER_GROUP_PHASE",i="MOVEMENT_PHASE",c="ACTION_PHASE",l="TURN_END_PHASE"},90304:(e,t,a)=>{"use strict";a.d(t,{Y0:()=>n,o3:()=>u});var r=a(19488),s=a(87781);let n=(0,a(46124).forwardRef)((e,t)=>{let{children:a,color:n="primary",type:i="button",...c}=e;return(0,r.jsx)(s.T,{color:n,ref:t,type:i,...c,children:a})});n.displayName="DefaultButton";var i=a(42365),c=a(94919),l=a(54456),o=a(40014),d=a(93010),h=a.n(d);let u=e=>{let{ariaLabel:t,items:a,label:s,onSelectionChange:d}=e;return(0,r.jsxs)(i.A,{className:h().dropdown,children:[(0,r.jsx)(c.b,{children:(0,r.jsx)(n,{className:"transition-transform",color:"secondary",children:s})}),(0,r.jsx)(l.y,{variant:"flat",disallowEmptySelection:!0,items:a,onSelectionChange:d,selectionMode:"single","data-testid":t,children:e=>(0,r.jsx)(o.Y,{color:"default",children:e.label},e.label)})]})}},89438:(e,t,a)=>{"use strict";a.d(t,{e2v:()=>r.e2v,ZpM:()=>r.ZpM,Sc0:()=>r.Sc0,pde:()=>r.pde,aFV:()=>r.aFV,cwr:()=>r.cwr,$mQ:()=>r.$mQ,jlY:()=>r.jlY,y$y:()=>r.y$y}),a(90304),a(34500),a(34744);var r=a(78082)},34500:(e,t,a)=>{"use strict";a.d(t,{Ny:()=>r.Ny,PY:()=>r.PY});var r=a(26215);a(66022)},34744:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AppUIProvider:()=>i,NextThemeProvider:()=>c});var r=a(19488),s=a(50610),n=a(66022);let i=e=>{let{children:t}=e;return(0,r.jsx)(s.b,{children:t})},c=e=>{let{children:t,themeProps:a}=e;return(0,r.jsx)(n.N,{defaultTheme:"system",themes:["light","dark","system"],forcedTheme:"light",...a,children:t})}},56569:e=>{e.exports={main:"board_main__092fm",introductionText:"board_introductionText___1NlX"}},78395:e=>{e.exports={characterIconContainer:"character-cell_characterIconContainer__1_mdv",healthBar:"character-cell_healthBar__ksn8u",healthBarInner:"character-cell_healthBarInner__ejKxN"}},31464:e=>{e.exports={gridCell:"grid-cell_gridCell__1D4fJ",gridCellText:"grid-cell_gridCellText__LcWyb"}},38219:e=>{e.exports={cardIcon:"character-card_cardIcon__pgQsj",cardIconFocus:"character-card_cardIconFocus__N7_hA",cardIconActive:"character-card_cardIconActive__jxf_X",cardIconInner:"character-card_cardIconInner__fpUF2"}},92205:e=>{e.exports={characterCard:"character-bar_characterCard__VOO8M",characterCardContent:"character-bar_characterCardContent__mInNT"}},64459:e=>{e.exports={modalBody:"dice-roll_modalBody__1lOfR",title:"dice-roll_title__siwTN",scoreGrid:"dice-roll_scoreGrid__TeH2C"}},96513:e=>{e.exports={gameGridContainer:"infinite-grid_gameGridContainer__Dw42M",gameGrid:"infinite-grid_gameGrid__OWNqN"}},11786:e=>{e.exports={sidebar:"sidebar_sidebar___PJtn",sidebarContent:"sidebar_sidebarContent__Sf8Cz",heading:"sidebar_heading__ouIP0",chatLogContainer:"sidebar_chatLogContainer__3H4H7",chatWindow:"sidebar_chatWindow__faat9",characterContainer:"sidebar_characterContainer__qRs85",characterInformation:"sidebar_characterInformation__vHrzw",characterMainStatsContainer:"sidebar_characterMainStatsContainer__ftSZw",characterMainStats:"sidebar_characterMainStats__4hhH7",characterMainStatsIcon:"sidebar_characterMainStatsIcon__vNecd"}},45320:e=>{e.exports={notificationContainer:"notification_notificationContainer__V2xH6",notificationBody:"notification_notificationBody__s8bYT",title:"notification_title__L9iWe",message:"notification_message__SHohi",closeButton:"notification_closeButton__Qw2Y2"}},53371:e=>{e.exports={notificationsList:"notifications-container_notificationsList__XbhfY"}},93010:e=>{e.exports={dropdown:"dropdown-for-list-items_dropdown__grQjg"}}},e=>{var t=t=>e(e.s=t);e.O(0,[539,978,251,5,303,923,463,358],()=>t(78318)),_N_E=e.O()}]);